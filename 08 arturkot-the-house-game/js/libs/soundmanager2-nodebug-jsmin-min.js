/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20110918
 *//*global window, SM2_DEFER, sm2Debugger, console, document, navigator, setTimeout, setInterval, clearInterval, Audio *//* jslint regexp: true, sloppy: true, white: true, nomen: true, plusplus: true */(function(e){function n(t,n){function Xt(e){return function(t){return!this._t||!this._t._a?null:e.call(this,t)}}this.flashVersion=8;this.debugMode=!1;this.debugFlash=!1;this.useConsole=!0;this.consoleOnly=!1;this.waitForWindowLoad=!1;this.bgColor="#ffffff";this.useHighPerformance=!1;this.flashPollingInterval=null;this.flashLoadTimeout=1e3;this.wmode=null;this.allowScriptAccess="always";this.useFlashBlock=!1;this.useHTML5Audio=!0;this.html5Test=/^(probably|maybe)$/i;this.preferFlash=!1;this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!1},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.defaultOptions={autoLoad:!1,stream:!0,autoPlay:!1,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.movieID="sm2-container";this.id=n||"sm2movie";this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20110918";this.version=null;this.movieURL=null;this.url="/the-house-game/swf/";this.altURL=null;this.swfLoaded=!1;this.enabled=!1;this.o=null;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=!1;this.specialWmodeCase=!1;this.didFlashBlock=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.hasHTML5=typeof Audio!="undefined"&&typeof (new Audio).canPlayType!="undefined";this.html5={usingFlash:null};this.flash={};this.html5Only=!1;this.ignoreFlash=!1;var r,i=this,s="soundManager",o=s+"::",u="HTML5::",a,f=navigator.userAgent,l=e,c=l.location.href.toString(),h=document,p,d,v,m=[],g=!0,y,b=!1,w=!1,E=!1,S=!1,x=!1,T,N=0,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W=["log","info","warn","error"],X=8,V,$,J,K=null,Q=null,G,Y,Z,et,tt,nt,rt,it,st=!1,ot=!1,ut,at,ft,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=f.match(/(ipad|iphone|ipod)/i),Lt=f.match(/(mobile|pre\/|xoom)/i)||kt,At=f.match(/msie/i),Ot=f.match(/webkit/i),Mt=f.match(/safari/i)&&!f.match(/chrome/i),_t=f.match(/opera/i),Dt=!c.match(/usehtml5audio/i)&&!c.match(/sm2\-ignorebadua/i)&&Mt&&f.match(/OS X 10_6_([3-7])/i),Pt=typeof console!="undefined"&&typeof console.log!="undefined",Ht=typeof h.hasFocus!="undefined"?h.hasFocus():null,Bt=Mt&&typeof h.hasFocus=="undefined",jt=!Bt,Ft=/(mp3|mp4|mpa)/i,It="about:blank",qt=h.location?h.location.protocol.match(/http/i):null,Rt=qt?"":"http://",Ut=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,zt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],Wt=new RegExp("\\.("+zt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!qt;this._global_a=null;if(Lt){i.useHTML5Audio=!0;i.preferFlash=!1;if(kt){i.ignoreFlash=!0;Et=!0}}this.ok=function(){return ct?E&&!S:i.useHTML5Audio&&i.hasHTML5};this.supported=this.ok;this.getMovie=function(e){return a(e)||h[e]||l[e]};this.createSound=function(e){function a(){n=tt(n);i.sounds[u.id]=new r(u);i.soundIDs.push(u.id);return i.sounds[u.id]}var t=s+".createSound(): ",n=null,o=null,u=null;if(!E||!i.ok()){rt(t+G(E?"notOK":"notReady"));return!1}arguments.length===2&&(e={id:arguments[0],url:arguments[1]});n=k(e);u=n;if(it(u.id,!0))return i.sounds[u.id];if(pt(u)){o=a();o._setup_html5(u)}else{if(v>8){u.isMovieStar===null&&(u.isMovieStar=u.serverURL||(u.type?u.type.match(Ut):!1)||u.url.match(Wt));u.isMovieStar&&u.usePeakData&&(u.usePeakData=!1)}u=nt(u,t);o=a();if(v===8)i.o._createSound(u.id,u.loops||1,u.usePolicyFile);else{i.o._createSound(u.id,u.url,u.usePeakData,u.useWaveformData,u.useEQData,u.isMovieStar,u.isMovieStar?u.bufferTime:!1,u.loops||1,u.serverURL,u.duration||null,u.autoPlay,!0,u.autoLoad,u.usePolicyFile);if(!u.serverURL){o.connected=!0;u.onconnect&&u.onconnect.apply(o)}}!u.serverURL&&(u.autoLoad||u.autoPlay)&&o.load(u)}!u.serverURL&&u.autoPlay&&o.play();return o};this.destroySound=function(e,t){if(!it(e))return!1;var n=i.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<i.soundIDs.length;r++)if(i.soundIDs[r]===e){i.soundIDs.splice(r,1);break}t||n.destruct(!0);n=null;delete i.sounds[e];return!0};this.load=function(e,t){return it(e)?i.sounds[e].load(t):!1};this.unload=function(e){return it(e)?i.sounds[e].unload():!1};this.onposition=function(e,t,n,r){return it(e)?i.sounds[e].onposition(t,n,r):!1};this.play=function(e,t){var n=s+".play(): ";if(!E||!i.ok()){rt(n+G(E?"notOK":"notReady"));return!1}if(!it(e)){t instanceof Object||(t={url:t});if(t&&t.url){t.id=e;return i.createSound(t).play()}return!1}return i.sounds[e].play(t)};this.start=this.play;this.setPosition=function(e,t){return it(e)?i.sounds[e].setPosition(t):!1};this.stop=function(e){return it(e)?i.sounds[e].stop():!1};this.stopAll=function(){var e;for(e in i.sounds)i.sounds.hasOwnProperty(e)&&i.sounds[e].stop()};this.pause=function(e){return it(e)?i.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=i.soundIDs.length;e--;)i.sounds[i.soundIDs[e]].pause()};this.resume=function(e){return it(e)?i.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=i.soundIDs.length;e--;)i.sounds[i.soundIDs[e]].resume()};this.togglePause=function(e){return it(e)?i.sounds[e].togglePause():!1};this.setPan=function(e,t){return it(e)?i.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return it(e)?i.sounds[e].setVolume(t):!1};this.mute=function(e){var t=s+".mute(): ",n=0;typeof e!="string"&&(e=null);if(!e){for(n=i.soundIDs.length;n--;)i.sounds[i.soundIDs[n]].mute();i.muted=!0;return!0}return it(e)?i.sounds[e].mute():!1};this.muteAll=function(){i.mute()};this.unmute=function(e){var t=s+".unmute(): ",n;typeof e!="string"&&(e=null);if(!e){for(n=i.soundIDs.length;n--;)i.sounds[i.soundIDs[n]].unmute();i.muted=!1;return!0}return it(e)?i.sounds[e].unmute():!1};this.unmuteAll=function(){i.unmute()};this.toggleMute=function(e){return it(e)?i.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;i.o&&v!==8&&(e=parseInt(i.o._getMemoryUse(),10));return e};this.disable=function(e){var t;typeof e=="undefined"&&(e=!1);if(S)return!1;S=!0;for(t=i.soundIDs.length;t--;)V(i.sounds[i.soundIDs[t]]);C(e);bt.remove(l,"load",O);return!0};this.canPlayMIME=function(e){var t;i.hasHTML5&&(t=dt({type:e}));return!ct||t?t:e?!!((v>8?e.match(Ut):null)||e.match(i.mimePattern)):null};this.canPlayURL=function(e){var t;i.hasHTML5&&(t=dt({url:e}));return!ct||t?t:e?!!e.match(i.filePattern):null};this.canPlayLink=function(e){return typeof e.type!="undefined"&&e.type&&i.canPlayMIME(e.type)?!0:i.canPlayURL(e.href)};this.getSoundById=function(e,t){if(!e)throw new Error(s+".getSoundById(): sID is null/undefined");var n=i.sounds[e];return n};this.onready=function(e,t){var n="onready";if(e&&e instanceof Function){t||(t=l);L(n,e,t);A();return!0}throw G("needFunction",n)};this.ontimeout=function(e,t){var n="ontimeout";if(e&&e instanceof Function){t||(t=l);L(n,e,t);A({type:n});return!0}throw G("needFunction",n)};this._writeDebug=function(e,t,n){return!0};this._wD=this._writeDebug;this._debug=function(){};this.reboot=function(){var e,t;for(e=i.soundIDs.length;e--;)i.sounds[i.soundIDs[e]].destruct();try{At&&(Q=i.o.innerHTML);K=i.o.parentNode.removeChild(i.o)}catch(n){}Q=K=ct=null;i.enabled=F=E=st=ot=b=w=S=i.swfLoaded=!1;i.soundIDs=i.sounds=[];i.o=null;for(e in m)if(m.hasOwnProperty(e))for(t=m[e].length;t--;)m[e][t].fired=!1;l.setTimeout(i.beginDelayedInit,20)};this.getMoviePercent=function(){return i.o&&typeof i.o.PercentLoaded!="undefined"?i.o.PercentLoaded():null};this.beginDelayedInit=function(){x=!0;j();setTimeout(function(){if(ot)return!1;q();B();ot=!0;return!0},20);M()};this.destruct=function(){i.disable(!0)};r=function(e){var t=this,n,r,s;this.sID=e.id;this.url=e.url;this.options=k(e);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var n=null;if(typeof e!="undefined"){t._iO=k(e,t.options);t.instanceOptions=t._iO}else{e=t.options;t._iO=e;t.instanceOptions=t._iO;if(t._lastURL&&t._lastURL!==t.url){t._iO.url=t.url;t.url=null}}t._iO.url||(t._iO.url=t.url);if(t._iO.url===t.url&&t.readyState!==0&&t.readyState!==2)return t;t._lastURL=t.url;t.loaded=!1;t.readyState=1;t.playState=0;if(pt(t._iO)){n=t._setup_html5(t._iO);if(!n._called_load){t._html5_canplay=!1;n.load();n._called_load=!0;t._iO.autoPlay&&t.play()}}else try{t.isHTML5=!1;t._iO=nt(tt(t._iO));v===8?i.o._load(t.sID,t._iO.url,t._iO.stream,t._iO.autoPlay,t._iO.whileloading?1:0,t._iO.loops||1,t._iO.usePolicyFile):i.o._load(t.sID,t._iO.url,!!t._iO.stream,!!t._iO.autoPlay,t._iO.loops||1,!!t._iO.autoLoad,t._iO.usePolicyFile)}catch(r){R({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return t};this.unload=function(){if(t.readyState!==0){if(!t.isHTML5)v===8?i.o._unload(t.sID,It):i.o._unload(t.sID);else{r();if(t._a){t._a.pause();mt(t._a)}}n()}return t};this.destruct=function(e){if(!t.isHTML5){t._iO.onfailure=null;i.o._destroySound(t.sID)}else{r();if(t._a){t._a.pause();mt(t._a);Et||t._remove_html5_events();t._a._t=null;t._a=null}}e||i.destroySound(t.sID,!0)};this.play=function(e,n){var r="SMSound.play(): ",o,u;n=n===undefined?!0:n;e||(e={});t._iO=k(e,t._iO);t._iO=k(t._iO,t.options);t.instanceOptions=t._iO;if(t._iO.serverURL&&!t.connected){t.getAutoPlay()||t.setAutoPlay(!0);return t}if(pt(t._iO)){t._setup_html5(t._iO);s()}if(t.playState===1&&!t.paused){o=t._iO.multiShot;if(!o)return t}if(!t.loaded)if(t.readyState===0){t.isHTML5||(t._iO.autoPlay=!0);t.load(t._iO)}else if(t.readyState===2)return t;!t.isHTML5&&v===9&&t.position>0&&t.position===t.duration&&(t._iO.position=0);if(t.paused&&t.position&&t.position>0)t.resume();else{t.playState=1;t.paused=!1;(!t.instanceCount||t._iO.multiShotEvents||!t.isHTML5&&v>8&&!t.getAutoPlay())&&t.instanceCount++;t.position=typeof t._iO.position!="undefined"&&!isNaN(t._iO.position)?t._iO.position:0;t.isHTML5||(t._iO=nt(tt(t._iO)));if(t._iO.onplay&&n){t._iO.onplay.apply(t);t._onplay_called=!0}t.setVolume(t._iO.volume,!0);t.setPan(t._iO.pan,!0);if(!t.isHTML5)i.o._start(t.sID,t._iO.loops||1,v===9?t._iO.position:t._iO.position/1e3);else{s();u=t._setup_html5();t.setPosition(t._iO.position);u.play()}}return t};this.start=this.play;this.stop=function(e){if(t.playState===1){t._onbufferchange(0);t.resetOnPosition(0);t.paused=!1;t.isHTML5||(t.playState=0);t._iO.onstop&&t._iO.onstop.apply(t);if(!t.isHTML5){i.o._stop(t.sID,e);t._iO.serverURL&&t.unload()}else if(t._a){t.setPosition(0);t._a.pause();t.playState=0;t._onTimer();r()}t.instanceCount=0;t._iO={}}return t};this.setAutoPlay=function(e){t._iO.autoPlay=e;if(!t.isHTML5){i.o._setAutoPlay(t.sID,e);e&&!t.instanceCount&&t.readyState===1&&t.instanceCount++}};this.getAutoPlay=function(){return t._iO.autoPlay};this.setPosition=function(e){e===undefined&&(e=0);var n,r,s,o=t.isHTML5?Math.max(e,0):Math.min(t.duration||t._iO.duration,Math.max(e,0));n=t.position;t.position=o;s=t.position/1e3;t.resetOnPosition(t.position);t._iO.position=o;if(!t.isHTML5){r=v===9?t.position:s;t.readyState&&t.readyState!==2&&i.o._setPosition(t.sID,r,t.paused||!t.playState)}else if(t._a&&t._html5_canplay&&t._a.currentTime!==s)try{t._a.currentTime=s;(t.playState===0||t.paused)&&t._a.pause()}catch(u){}t.isHTML5&&t.paused&&t._onTimer(!0);return t};this.pause=function(e){if(t.paused||t.playState===0&&t.readyState!==1)return t;t.paused=!0;if(!t.isHTML5)(e||e===undefined)&&i.o._pause(t.sID);else{t._setup_html5().pause();r()}t._iO.onpause&&t._iO.onpause.apply(t);return t};this.resume=function(){if(!t.paused)return t;t.paused=!1;t.playState=1;if(!t.isHTML5){t._iO.isMovieStar&&t.setPosition(t.position);i.o._pause(t.sID)}else{t._setup_html5().play();s()}if(!t._onplay_called&&t._iO.onplay){t._iO.onplay.apply(t);t._onplay_called=!0}else t._iO.onresume&&t._iO.onresume.apply(t);return t};this.togglePause=function(){if(t.playState===0){t.play({position:v===9&&!t.isHTML5?t.position:t.position/1e3});return t}t.paused?t.resume():t.pause();return t};this.setPan=function(e,n){typeof e=="undefined"&&(e=0);typeof n=="undefined"&&(n=!1);t.isHTML5||i.o._setPan(t.sID,e);t._iO.pan=e;if(!n){t.pan=e;t.options.pan=e}return t};this.setVolume=function(e,n){typeof e=="undefined"&&(e=100);typeof n=="undefined"&&(n=!1);t.isHTML5?t._a&&(t._a.volume=Math.max(0,Math.min(1,e/100))):i.o._setVolume(t.sID,i.muted&&!t.muted||t.muted?0:e);t._iO.volume=e;if(!n){t.volume=e;t.options.volume=e}return t};this.mute=function(){t.muted=!0;t.isHTML5?t._a&&(t._a.muted=!0):i.o._setVolume(t.sID,0);return t};this.unmute=function(){t.muted=!1;var e=typeof t._iO.volume!="undefined";t.isHTML5?t._a&&(t._a.muted=!1):i.o._setVolume(t.sID,e?t._iO.volume:t.options.volume);return t};this.toggleMute=function(){return t.muted?t.unmute():t.mute()};this.onposition=function(e,n,r){t._onPositionItems.push({position:e,method:n,scope:typeof r!="undefined"?r:t,fired:!1});return t};this.processOnPosition=function(){var e,n,r=t._onPositionItems.length;if(!r||!t.playState||t._onPositionFired>=r)return!1;for(e=r;e--;){n=t._onPositionItems[e];if(!n.fired&&t.position>=n.position){n.fired=!0;i._onPositionFired++;n.method.apply(n.scope,[n.position])}}return!0};this.resetOnPosition=function(e){var n,r,s=t._onPositionItems.length;if(!s)return!1;for(n=s;n--;){r=t._onPositionItems[n];if(r.fired&&e<=r.position){r.fired=!1;i._onPositionFired--}}return!0};s=function(){t.isHTML5&&ft(t)};r=function(){t.isHTML5&&lt(t)};n=function(){t._onPositionItems=[];t._onPositionFired=0;t._hasTimer=null;t._onplay_called=!1;t._a=null;t._html5_canplay=!1;t.bytesLoaded=null;t.bytesTotal=null;t.position=null;t.duration=t._iO&&t._iO.duration?t._iO.duration:null;t.durationEstimate=null;t.failures=0;t.loaded=!1;t.playState=0;t.paused=!1;t.readyState=0;t.muted=!1;t.isBuffering=!1;t.instanceOptions={};t.instanceCount=0;t.peakData={left:0,right:0};t.waveformData={left:[],right:[]};t.eqData=[];t.eqData.left=[];t.eqData.right=[]};n();this._onTimer=function(e){var n,r={};if(t._hasTimer||e){if(t._a&&(e||(t.playState>0||t.readyState===1)&&!t.paused)){t.duration=t._get_html5_duration();t.durationEstimate=t.duration;n=t._a.currentTime?t._a.currentTime*1e3:0;t._whileplaying(n,r,r,r,r);return!0}return!1}};this._get_html5_duration=function(){var e=t._a?t._a.duration*1e3:t._iO?t._iO.duration:undefined,n=e&&!isNaN(e)&&e!==Infinity?e:t._iO?t._iO.duration:null;return n};this._setup_html5=function(e){var r=k(t._iO,e),s=decodeURI,o=Et?i._global_a:t._a,u=s(r.url),a=o&&o._t?o._t.instanceOptions:null;if(o){if(o._t&&a.url===r.url&&(!t._lastURL||t._lastURL===a.url))return o;Et&&o._t&&o._t.playState&&r.url!==a.url&&o._t.stop();n();o.src=r.url;t.url=r.url;t._lastURL=r.url;o._called_load=!1}else{o=new Audio(r.url);o._called_load=!1;Et&&(i._global_a=o)}t.isHTML5=!0;t._a=o;o._t=t;t._add_html5_events();o.loop=r.loops>1?"loop":"";if(r.autoLoad||r.autoPlay){o.autobuffer="auto";o.preload="auto";t.load();o._called_load=!0}else{o.autobuffer=!1;o.preload="none"}o.loop=r.loops>1?"loop":"";return o};this._add_html5_events=function(){function n(e,n,r){return t._a?t._a.addEventListener(e,n,r||!1):null}if(t._a._added_events)return!1;var e;t._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&n(e,Nt[e]);return!0};this._remove_html5_events=function(){function n(e,n,r){return t._a?t._a.removeEventListener(e,n,r||!1):null}var e;t._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&n(e,Nt[e])};this._onload=function(e){var n="SMSound._onload(): ",r=!!e;t.loaded=r;t.readyState=r?3:2;t._onbufferchange(0);t._iO.onload&&t._iO.onload.apply(t,[r]);return!0};this._onbufferchange=function(e){var n="SMSound._onbufferchange()";if(t.playState===0)return!1;if(e&&t.isBuffering||!e&&!t.isBuffering)return!1;t.isBuffering=e===1;t._iO.onbufferchange&&t._iO.onbufferchange.apply(t);return!0};this._onfailure=function(e,n,r){t.failures++;t._iO.onfailure&&t.failures===1&&t._iO.onfailure(t,e,n,r)};this._onfinish=function(){var e=t._iO.onfinish;t._onbufferchange(0);t.resetOnPosition(0);if(t.instanceCount){t.instanceCount--;if(!t.instanceCount){t.playState=0;t.paused=!1;t.instanceCount=0;t.instanceOptions={};t._iO={};r()}(!t.instanceCount||t._iO.multiShotEvents)&&e&&e.apply(t)}};this._whileloading=function(e,n,r,i){t.bytesLoaded=e;t.bytesTotal=n;t.duration=Math.floor(r);t.bufferLength=i;if(!t._iO.isMovieStar){t._iO.duration?t.durationEstimate=t.duration>t._iO.duration?t.duration:t._iO.duration:t.durationEstimate=parseInt(t.bytesTotal/t.bytesLoaded*t.duration,10);t.durationEstimate===undefined&&(t.durationEstimate=t.duration);t.readyState!==3&&t._iO.whileloading&&t._iO.whileloading.apply(t)}else{t.durationEstimate=t.duration;t.readyState!==3&&t._iO.whileloading&&t._iO.whileloading.apply(t)}};this._whileplaying=function(e,n,r,i,s){if(isNaN(e)||e===null)return!1;t.position=e;t.processOnPosition();if(!t.isHTML5&&v>8){t._iO.usePeakData&&typeof n!="undefined"&&n&&(t.peakData={left:n.leftPeak,right:n.rightPeak});t._iO.useWaveformData&&typeof r!="undefined"&&r&&(t.waveformData={left:r.split(","),right:i.split(",")});if(t._iO.useEQData&&typeof s!="undefined"&&s&&s.leftEQ){var o=s.leftEQ.split(",");t.eqData=o;t.eqData.left=o;typeof s.rightEQ!="undefined"&&s.rightEQ&&(t.eqData.right=s.rightEQ.split(","))}}if(t.playState===1){!t.isHTML5&&v===8&&!t.position&&t.isBuffering&&t._onbufferchange(0);t._iO.whileplaying&&t._iO.whileplaying.apply(t)}return!0};this._onid3=function(e,n){var r=[],i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=n[i];t.id3=k(t.id3,r);t._iO.onid3&&t._iO.onid3.apply(t)};this._onconnect=function(e){var n="SMSound._onconnect(): ";e=e===1;t.connected=e;if(e){t.failures=0;it(t.sID)&&(t.getAutoPlay()?t.play(undefined,t.getAutoPlay()):t._iO.autoLoad&&t.load());t._iO.onconnect&&t._iO.onconnect.apply(t,[e])}};this._ondataerror=function(e){t.playState>0&&t._iO.ondataerror&&t._iO.ondataerror.apply(t)}};I=function(){return h.body||h._docElement||h.getElementsByTagName("div")[0]};a=function(e){return h.getElementById(e)};k=function(e,t){var n={},r,s,o;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);s=typeof t=="undefined"?i.defaultOptions:t;for(o in s)s.hasOwnProperty(o)&&typeof n[o]=="undefined"&&(n[o]=s[o]);return n};bt=function(){function n(t){var n=wt.call(t),r=n.length;if(e){n[1]="on"+n[1];r>3&&n.pop()}else r===3&&n.push(!1);return n}function r(n,r){var i=n.shift(),s=[t[r]];e?i[s](n[0],n[1]):i[s].apply(i,n)}function i(){r(n(arguments),"add")}function s(){r(n(arguments),"remove")}var e=l.attachEvent,t={add:e?"attachEvent":"addEventListener",remove:e?"detachEvent":"removeEventListener"};return{add:i,remove:s}}();Nt={abort:Xt(function(e){}),canplay:Xt(function(e){if(this._t._html5_canplay)return!0;this._t._html5_canplay=!0;this._t._onbufferchange(0);var t=isNaN(this._t.position)?null:this._t.position/1e3;if(this._t.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}}),load:Xt(function(e){if(!this._t.loaded){this._t._onbufferchange(0);this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration());this._t._onload(!0)}}),emptied:Xt(function(e){}),ended:Xt(function(e){this._t._onfinish()}),error:Xt(function(e){this._t._onload(!1)}),loadeddata:Xt(function(e){var t=this._t,n=t.bytesTotal||1;if(!t._loaded&&!Mt){t.duration=t._get_html5_duration();t._whileloading(n,n,t._get_html5_duration());t._onload(!0)}}),loadedmetadata:Xt(function(e){}),loadstart:Xt(function(e){this._t._onbufferchange(1)}),play:Xt(function(e){this._t._onbufferchange(0)}),playing:Xt(function(e){this._t._onbufferchange(0)}),progress:Xt(function(e){if(this._t.loaded)return!1;var t,n,r,i=0,s=e.type==="progress",o=e.target.buffered,u=e.loaded||0,a=e.total||1;if(o&&o.length){for(t=o.length;t--;)i=o.end(t)-o.start(t);u=i/e.target.duration}if(!isNaN(u)){this._t._onbufferchange(0);this._t._whileloading(u,a,this._t._get_html5_duration());u&&a&&u===a&&Nt.load.call(this,e)}}),ratechange:Xt(function(e){}),suspend:Xt(function(e){Nt.progress.call(this,e)}),stalled:Xt(function(e){}),timeupdate:Xt(function(e){this._t._onTimer()}),waiting:Xt(function(e){this._t._onbufferchange(1)})};pt=function(e){return!e.serverURL&&(e.type?dt({type:e.type}):dt({url:e.url})||i.html5Only)};mt=function(e){e&&(e.src=f.match(/gecko/i)?"":It)};dt=function(e){function f(e){return i.preferFlash&&St&&!i.ignoreFlash&&typeof i.flash[e]!="undefined"&&i.flash[e]}if(!i.useHTML5Audio||!i.hasHTML5)return!1;var t=e.url||null,n=e.type||null,r=i.audioFormats,s,o,u,a;if(n&&i.html5[n]!=="undefined")return i.html5[n]&&!f(n);if(!vt){vt=[];for(a in r)if(r.hasOwnProperty(a)){vt.push(a);r[a].related&&(vt=vt.concat(r[a].related))}vt=new RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}u=t?t.toLowerCase().match(vt):null;if(!u||!u.length){if(!n)return!1;o=n.indexOf(";");u=(o!==-1?n.substr(0,o):n).substr(6)}else u=u[1];if(u&&typeof i.html5[u]!="undefined")return i.html5[u]&&!f(u);n="audio/"+u;s=i.html5.canPlayType({type:n});i.html5[u]=s;return s&&i.html5[n]&&!f(n)};yt=function(){function o(t){var n,r,s,o=!1;if(!e||typeof e.canPlayType!="function")return!1;if(t instanceof Array){for(r=0,s=t.length;r<s&&!o;r++)if(i.html5[t[r]]||e.canPlayType(t[r]).match(i.html5Test)){o=!0;i.html5[t[r]]=!0;i.flash[t[r]]=!!(i.preferFlash&&St&&t[r].match(Ft))}return o}n=e&&typeof e.canPlayType=="function"?e.canPlayType(t):!1;return!!n&&!!n.match(i.html5Test)}if(!i.useHTML5Audio||typeof Audio=="undefined")return!1;var e=typeof Audio!="undefined"?_t?new Audio(null):new Audio:null,t,n={},r,s;r=i.audioFormats;for(t in r)if(r.hasOwnProperty(t)){n[t]=o(r[t].type);n["audio/"+t]=n[t];i.preferFlash&&!i.ignoreFlash&&t.match(Ft)?i.flash[t]=!0:i.flash[t]=!1;if(r[t]&&r[t].related)for(s=r[t].related.length;s--;){n["audio/"+r[t].related[s]]=n[t];i.html5[r[t].related[s]]=n[t];i.flash[r[t].related[s]]=n[t]}}n.canPlayType=e?o:null;i.html5=k(i.html5,n);return!0};H={};G=function(){};tt=function(e){v===8&&e.loops>1&&e.stream&&(e.stream=!1);return e};nt=function(e,t){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};rt=function(e){};p=function(){return!1};V=function(e){var t;for(t in e)e.hasOwnProperty(t)&&typeof e[t]=="function"&&(e[t]=p);t=null};$=function(e){typeof e=="undefined"&&(e=!1);(S||e)&&i.disable(e)};J=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4);if(t)return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+i.movieURL};D=function(){v=parseInt(i.flashVersion,10);v!==8&&v!==9&&(i.flashVersion=v=X);var e=i.debugMode||i.debugFlash?"_debug.swf":".swf";i.useHTML5Audio&&!i.html5Only&&i.audioFormats.mp4.required&&v<9&&(i.flashVersion=v=9);i.version=i.versionNumber+(i.html5Only?" (HTML5-only mode)":v===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(v>8){i.defaultOptions=k(i.defaultOptions,i.flash9Options);i.features.buffering=!0;i.defaultOptions=k(i.defaultOptions,i.movieStarOptions);i.filePatterns.flash9=new RegExp("\\.(mp3|"+zt.join("|")+")(\\?.*)?$","i");i.features.movieStar=!0}else i.features.movieStar=!1;i.filePattern=i.filePatterns[v!==8?"flash9":"flash8"];i.movieURL=(v===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);i.features.peakData=i.features.waveformData=i.features.eqData=v>8};U=function(e,t){if(!i.o)return!1;i.o._setPolling(e,t)};z=function(){i.debugURLParam.test(c)&&(i.debugMode=!0)};it=this.getSoundById;Z=function(){var e=[];i.debugMode&&e.push(i.swfCSS.sm2Debug);i.debugFlash&&e.push(i.swfCSS.flashDebug);i.useHighPerformance&&e.push(i.swfCSS.highPerf);return e.join(" ")};Y=function(){var e=G("fbHandler"),t=i.getMoviePercent(),n=i.swfCSS,r={type:"FLASHBLOCK"};if(i.html5Only)return!1;if(!i.ok()){ct&&(i.oMC.className=Z()+" "+n.swfDefault+" "+(t===null?n.swfTimedout:n.swfError));i.didFlashBlock=!0;A({type:"ontimeout",ignoreInit:!0,error:r});R(r)}else{i.didFlashBlock;i.oMC&&(i.oMC.className=[Z(),n.swfDefault,n.swfLoaded+(i.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))}};L=function(e,t,n){typeof m[e]=="undefined"&&(m[e]=[]);m[e].push({method:t,scope:n||null,fired:!1})};A=function(e){e||(e={type:"onready"});if(!E&&e&&!e.ignoreInit)return!1;if(e.type==="ontimeout"&&i.ok())return!1;var t={success:e&&e.ignoreInit?i.ok():!S},n=e&&e.type?m[e.type]||[]:[],r=[],s,o,u=[t],a=ct&&i.useFlashBlock&&!i.ok();e.error&&(u[0].error=e.error);for(s=0,o=n.length;s<o;s++)n[s].fired!==!0&&r.push(n[s]);if(r.length)for(s=0,o=r.length;s<o;s++){r[s].scope?r[s].method.apply(r[s].scope,u):r[s].method.apply(this,u);a||(r[s].fired=!0)}return!0};O=function(){l.setTimeout(function(){i.useFlashBlock&&Y();A();i.onload instanceof Function&&i.onload.apply(l);i.waitForWindowLoad&&bt.add(l,"load",O)},1)};xt=function(){if(St!==undefined)return St;var e=!1,t=navigator,n=t.plugins,r,i,s,o=l.ActiveXObject;if(n&&n.length){i="application/x-shockwave-flash";s=t.mimeTypes;s&&s[i]&&s[i].enabledPlugin&&s[i].enabledPlugin.description&&(e=!0)}else if(typeof o!="undefined"){try{r=new o("ShockwaveFlash.ShockwaveFlash")}catch(u){}e=!!r}St=e;return e};ht=function(){var e,t,n=kt&&!!f.match(/os (1|2|3_0|3_1)/i);if(n){i.hasHTML5=!1;i.html5Only=!0;i.oMC&&(i.oMC.style.display="none");return!1}if(!i.useHTML5Audio)return!0;if(!i.html5||!i.html5.canPlayType){i.hasHTML5=!1;return!0}i.hasHTML5=!0;if(Dt&&xt())return!0;for(t in i.audioFormats)i.audioFormats.hasOwnProperty(t)&&(i.audioFormats[t].required&&!i.html5.canPlayType(i.audioFormats[t].type)||i.flash[t]||i.flash[i.audioFormats[t].type])&&(e=!0);i.ignoreFlash&&(e=!1);i.html5Only=i.hasHTML5&&i.useHTML5Audio&&!e;return!i.html5Only};ft=function(e){e._hasTimer||(e._hasTimer=!0)};lt=function(e){e._hasTimer&&(e._hasTimer=!1)};R=function(e){e=typeof e!="undefined"?e:{};i.onerror instanceof Function&&i.onerror.apply(l,[{type:typeof e.type!="undefined"?e.type:null}]);typeof e.fatal!="undefined"&&e.fatal&&i.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=i.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n))if(n==="mp3"||n==="mp4"){i.html5[n]=!1;if(e[n]&&e[n].related)for(t=e[n].related.length;t--;)i.html5[e[n].related[t]]=!1}};this._setSandboxType=function(e){};this._externalInterfaceOK=function(e){if(i.swfLoaded)return!1;var t=(new Date).getTime();i.swfLoaded=!0;Bt=!1;Dt&&Tt();At?setTimeout(d,100):d()};q=function(e,t){function n(){}function C(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(b&&w)return!1;if(i.html5Only){D();n();i.oMC=a(i.movieID);d();b=!0;w=!0;return!1}var r=t||i.url,s=i.altURL||r,o="JS/Flash audio component (SoundManager 2)",u,l,c=I(),p,v,m,g=Z(),y,E,S,x="auto",T=null,N=h.getElementsByTagName("html")[0];T=N&&N.dir&&N.dir.match(/rtl/i);e=typeof e=="undefined"?i.id:e;D();i.url=J(qt?r:s);t=i.url;i.wmode=!i.wmode&&i.useHighPerformance?"transparent":i.wmode;if(i.wmode!==null&&(f.match(/msie 8/i)||!At&&!i.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){i.specialWmodeCase=!0;i.wmode=null}u={name:e,id:e,src:t,width:x,height:x,quality:"high",allowScriptAccess:i.allowScriptAccess,bgcolor:i.bgColor,pluginspage:Rt+"www.macromedia.com/go/getflashplayer",title:o,type:"application/x-shockwave-flash",wmode:i.wmode,hasPriority:"true"};i.debugFlash&&(u.FlashVars="debug=1");i.wmode||delete u.wmode;if(At){l=h.createElement("div");v=['<object id="'+e+'" data="'+t+'" type="'+u.type+'" title="'+u.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Rt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+u.width+'" height="'+u.height+'">',C("movie",t),C("AllowScriptAccess",i.allowScriptAccess),C("quality",u.quality),i.wmode?C("wmode",i.wmode):"",C("bgcolor",i.bgColor),C("hasPriority","true"),i.debugFlash?C("FlashVars",u.FlashVars):"","</object>"].join("")}else{l=h.createElement("embed");for(p in u)u.hasOwnProperty(p)&&l.setAttribute(p,u[p])}z();g=Z();c=I();if(c){i.oMC=a(i.movieID)||h.createElement("div");if(!i.oMC.id){i.oMC.id=i.movieID;i.oMC.className=i.swfCSS.swfDefault+" "+g;y=null;m=null;if(!i.useFlashBlock)if(i.useHighPerformance)y={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else{y={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};T&&(y.left=Math.abs(parseInt(y.left,10))+"px")}Ot&&(i.oMC.style.zIndex=1e4);if(!i.debugFlash)for(E in y)y.hasOwnProperty(E)&&(i.oMC.style[E]=y[E]);try{At||i.oMC.appendChild(l);c.appendChild(i.oMC);if(At){m=i.oMC.appendChild(h.createElement("div"));m.className=i.swfCSS.swfBox;m.innerHTML=v}w=!0}catch(k){throw new Error(G("domError")+" \n"+k.toString())}}else{S=i.oMC.className;i.oMC.className=(S?S+" ":i.swfCSS.swfDefault)+(g?" "+g:"");i.oMC.appendChild(l);if(At){m=i.oMC.appendChild(h.createElement("div"));m.className=i.swfCSS.swfBox;m.innerHTML=v}w=!0}}b=!0;n();return!0};B=function(){if(i.html5Only){q();return!1}if(i.o)return!1;i.o=i.getMovie(i.id);if(!i.o){if(!K)q(i.id,i.url);else{At?i.oMC.innerHTML=Q:i.oMC.appendChild(K);K=null;b=!0}i.o=i.getMovie(i.id)}i.oninitmovie instanceof Function&&setTimeout(i.oninitmovie,1);return!0};M=function(){setTimeout(_,1e3)};_=function(){if(st)return!1;st=!0;bt.remove(l,"load",M);if(Bt&&!Ht)return!1;var e;E||(e=i.getMoviePercent());setTimeout(function(){e=i.getMoviePercent();!E&&jt&&(e===null?i.useFlashBlock||i.flashLoadTimeout===0?i.useFlashBlock&&Y():$(!0):i.flashLoadTimeout!==0&&$(!0))},i.flashLoadTimeout)};P=function(){function e(){bt.remove(l,"focus",P);bt.remove(l,"load",P)}if(Ht||!Bt){e();return!0}jt=!0;Ht=!0;Mt&&Bt&&bt.remove(l,"mousemove",P);st=!1;e();return!0};Ct=function(){var e,t=[];if(i.useHTML5Audio&&i.hasHTML5)for(e in i.audioFormats)i.audioFormats.hasOwnProperty(e)&&t.push(e+": "+i.html5[e]+(!i.html5[e]&&St&&i.flash[e]?" (using flash)":i.preferFlash&&i.flash[e]&&St?" (preferring flash)":i.html5[e]?"":" ("+(i.audioFormats[e].required?"required, ":"")+"and no flash support)"))};C=function(e){if(E)return!1;if(i.html5Only){E=!0;O();return!0}var t=i.useFlashBlock&&i.flashLoadTimeout&&!i.getMoviePercent(),n;if(!t){E=!0;S&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"})}if(S||e){i.useFlashBlock&&i.oMC&&(i.oMC.className=Z()+" "+(i.getMoviePercent()===null?i.swfCSS.swfTimedout:i.swfCSS.swfError));A({type:"ontimeout",error:n});R(n);return!1}if(i.waitForWindowLoad&&!x){bt.add(l,"load",O);return!1}O();return!0};d=function(){function e(){bt.remove(l,"load",i.beginDelayedInit)}if(E)return!1;if(i.html5Only){if(!E){e();i.enabled=!0;C()}return!0}B();try{i.o._externalInterfaceTest(!1);U(!0,i.flashPollingInterval||(i.useHighPerformance?10:50));i.debugMode||i.o._disableDebug();i.enabled=!0;i.html5Only||bt.add(l,"unload",p)}catch(t){R({type:"JS_TO_FLASH_EXCEPTION",fatal:!0});$(!0);C();return!1}C();e();return!0};j=function(){if(F)return!1;F=!0;z();if(!St&&i.hasHTML5){i.useHTML5Audio=!0;i.preferFlash=!1}yt();i.html5.usingFlash=ht();ct=i.html5.usingFlash;Ct();!St&&ct&&(i.flashLoadTimeout=1);h.removeEventListener&&h.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){if(h.readyState==="complete"){j();h.detachEvent("onreadystatechange",gt)}return!0};xt();bt.add(l,"focus",P);bt.add(l,"load",P);bt.add(l,"load",M);Mt&&Bt&&bt.add(l,"mousemove",P);h.addEventListener?h.addEventListener("DOMContentLoaded",j,!1):h.attachEvent?h.attachEvent("onreadystatechange",gt):R({type:"NO_DOM2_EVENTS",fatal:!0});h.readyState==="complete"&&setTimeout(j,100)}var t=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER)t=new n;e.SoundManager=n;e.soundManager=t})(window);