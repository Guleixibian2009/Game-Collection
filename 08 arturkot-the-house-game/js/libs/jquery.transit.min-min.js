/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */(function(e){function t(e){var t=["Moz","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.substr(1);if(e in l.style)return e;for(e=0;e<t.length;++e){var r=t[e]+n;if(r in l.style)return r}}function n(e){"string"==typeof e&&this.parse(e);return this}function r(e,t,n){!0===t?e.queue(n):t?e.queue(t,n):n()}function i(t){var n=[];e.each(t,function(t){t=e.camelCase(t);t=e.transit.propertyMap[t]||t;t=u(t);-1===e.inArray(t,n)&&n.push(t)});return n}function s(t,n,r,s){t=i(t);e.cssEase[r]&&(r=e.cssEase[r]);var o=""+f(n)+" "+r;0<parseInt(s,10)&&(o+=" "+f(s));var u=[];e.each(t,function(e,t){u.push(t+" "+o)});return u.join(", ")}function o(t,r){r||(e.cssNumber[t]=!0);e.transit.propertyMap[t]=c.transform;e.cssHooks[t]={get:function(r){return(e(r).css("transform")||new n).get(t)},set:function(r,i){var s=e(r).css("transform")||new n;s.setFromString(t,i);e(r).css({transform:s})}}}function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function a(e,t){return"string"==typeof e&&!e.match(/^[\-0-9\.]+$/)?e:""+e+t}function f(t){e.fx.speeds[t]&&(t=e.fx.speeds[t]);return a(t,"ms")}e.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),c={},h=-1<navigator.userAgent.toLowerCase().indexOf("chrome");c.transition=t("transition");c.transitionDelay=t("transitionDelay");c.transform=t("transform");c.transformOrigin=t("transformOrigin");l.style[c.transform]="";l.style[c.transform]="rotateY(90deg)";c.transform3d=""!==l.style[c.transform];e.extend(e.support,c);var p=c.transitionEnd={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[c.transition]||null,l=null;e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};e.cssHooks.transform={get:function(t){return e(t).data("transform")},set:function(t,r){var i=r;i instanceof n||(i=new n(i));t.style[c.transform]="WebkitTransform"===c.transform&&!h?i.toString(!0):i.toString();e(t).data("transform",i)}};e.cssHooks.transformOrigin={get:function(e){return e.style[c.transformOrigin]},set:function(e,t){e.style[c.transformOrigin]=t}};o("scale");o("translate");o("rotate");o("rotateX");o("rotateY");o("rotate3d");o("perspective");o("skewX");o("skewY");o("x",!0);o("y",!0);n.prototype={setFromString:function(e,t){var r="string"==typeof t?t.split(","):t.constructor===Array?t:[t];r.unshift(e);n.prototype.set.apply(this,r)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=a(e,"deg")},rotateX:function(e){this.rotateX=a(e,"deg")},rotateY:function(e){this.rotateY=a(e,"deg")},scale:function(e,t){void 0===t&&(t=e);this.scale=e+","+t},skewX:function(e){this.skewX=a(e,"deg")},skewY:function(e){this.skewY=a(e,"deg")},perspective:function(e){this.perspective=a(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==e&&(this._translateX=a(e,"px"));null!==t&&(this._translateY=a(t,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");e[0]&&(e[0]=parseFloat(e[0]));e[1]&&(e[1]=parseFloat(e[1]));return e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));e[3]&&(e[3]=a(e[3],"deg"));return e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,r){t.setFromString(n,r)})},toString:function(e){var t=[],n;for(n in this)this.hasOwnProperty(n)&&(c.transform3d||"rotateX"!==n&&"rotateY"!==n&&"perspective"!==n&&"transformOrigin"!==n)&&"_"!==n[0]&&(e&&"scale"===n?t.push(n+"3d("+this[n]+",1)"):e&&"translate"===n?t.push(n+"3d("+this[n]+",0)"):t.push(n+"("+this[n]+")"));return t.join(" ")}};e.fn.transition=e.fn.transit=function(t,n,i,o){var u=this,a=0,l=!0;"function"==typeof n&&(o=n,n=void 0);"function"==typeof i&&(o=i,i=void 0);"undefined"!=typeof t.easing&&(i=t.easing,delete t.easing);"undefined"!=typeof t.duration&&(n=t.duration,delete t.duration);"undefined"!=typeof t.complete&&(o=t.complete,delete t.complete);"undefined"!=typeof t.queue&&(l=t.queue,delete t.queue);"undefined"!=typeof t.delay&&(a=t.delay,delete t.delay);"undefined"==typeof n&&(n=e.fx.speeds._default);"undefined"==typeof i&&(i=e.cssEase._default);var n=f(n),h=s(t,n,i,a),v=e.transit.enabled&&c.transition?parseInt(n,10)+parseInt(a,10):0;if(0===v)return r(u,l,function(e){u.css(t);o&&o();e()}),u;var m={},g=function(n){var r=!1,i=function(){r&&u.unbind(p,i);0<v&&u.each(function(){this.style[c.transition]=m[this]||null});"function"==typeof o&&o.apply(u);"function"==typeof n&&n()};0<v&&p&&e.transit.useTransitionEnd?(r=!0,u.bind(p,i)):window.setTimeout(i,v);u.each(function(){0<v&&(this.style[c.transition]=h);e(this).css(t)})};r(u,l,function(e){var t=0;"MozTransition"===c.transition&&25>t&&(t=25);window.setTimeout(function(){g(e)},t)});return this};e.transit.getTransitionValue=s})(jQuery);