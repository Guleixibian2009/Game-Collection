var utility={picker:{init:function(){$("#grid_data").find("input").focus(function(){$(this).val("")});utility.picker.grab_data();$("#close").live("click",function(){$("body").find("#results").fadeOut("fast")})},grab_data:function(){$("#submit").click(function(){var e=parseInt($("#x").val()),t=parseInt($("#y").val());utility.picker.build_grid(e,t);utility.picker.pick($(".tile"));utility.picker.generate();return!1})},build_grid:function(e,t){$("#the_game").append('<div id="floor" />');$("<div />",{id:"generate"}).appendTo("#the_game").text("Generate!");$("#grid_data").remove();room.generate({grid_width:e,grid_height:t,drag_room:!0})},pick:function(e){$(e).live("click",function(){$(this).hasClass("selected")?$(this).removeClass("selected"):$(this).addClass("selected")})},generate:function(){$("#generate").click(function(){$("body").find("#results").remove();var e=$("#floor").find(".selected"),t=$(e).length;$("<div />",{id:"results"}).appendTo("#the_game").append("<h1>Array:</h1>").append('<pre id="array" />').append("<h1>Selectors:</h1>").append('<pre id="selectors" />').append('<div id="close"><div></div><div></div></div>');var n=$("body").find("#array"),r=$("body").find("#selectors");for(i=0,j=t;i<j;i++){var s=$(e).get(i),o=$(s).attr("id");if(i+1===j){$(n).append("'"+o+"'");$(r).append("#"+o)}else{$(n).append("'"+o+"', ");$(r).append("#"+o+", ")}}})}}};$(document).ready(function(){utility.picker.init()});